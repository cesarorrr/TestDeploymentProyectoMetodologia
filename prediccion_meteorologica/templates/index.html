<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Predicción Meteorológica</title>

  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600&display=swap"
    rel="stylesheet"
  />
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.2/dist/tailwind.min.css"
    rel="stylesheet"
  />

  <style>
    body {
      font-family: 'Montserrat', sans-serif;
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0px);
      }
    }

    .animate-fadeIn {
      animation: fadeIn 1s ease forwards;
    }

    @keyframes pulse-custom {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.1);
      }
    }

    .animate-pulse-custom {
      animation: pulse-custom 2s infinite;
    }
  </style>
</head>
<body
  class="
    min-h-screen
    bg-gradient-to-r
    from-cyan-400
    via-blue-400
    to-green-400
    text-white
    flex
    flex-col
  "
>
  <header class="text-center py-10 px-4">
    <h1 class="text-4xl font-bold mb-2 drop-shadow-md">
      Predicción Meteorológica
    </h1>
    <p class="text-lg font-light">
      Conoce el clima antes de salir de casa
    </p>
  </header>

  <div class="container mx-auto px-4 flex flex-col lg:flex-row gap-8 pb-10">
    <div
      class="
        flex-1
        bg-white
        bg-opacity-90
        rounded-lg
        shadow-lg
        p-6
        max-w-md
        mx-auto
        lg:mx-0
        animate-fadeIn
        text-gray-800
      "
    >
      <h2 class="text-2xl font-semibold text-center mb-6">
        Ingresa los datos
      </h2>
      <form method="POST" action="">
        {% csrf_token %}
            <label for="date" class="block font-semibold mb-1">
      Fecha:
    </label>
    <input
      type="date"
      name="date"
      id="date"
      required
      placeholder="YYYY-MM-DD"
      class="
        w-full
        p-2
        mb-4
        border-2
        border-gray-300
        rounded
        focus:outline-none
        focus:border-cyan-500
      "
    />

        <label for="precipitation" class="block font-semibold mb-1">
          Precipitación:
        </label>
        <input
          type="text"
          name="precipitation"
          id="precipitation"
          required
          placeholder="Ej. 12 mm"
          class="
            w-full
            p-2
            mb-4
            border-2
            border-gray-300
            rounded
            focus:outline-none
            focus:border-cyan-500
          "
        />

        <label for="temp_max" class="block font-semibold mb-1">
          Temperatura Máxima:
        </label>
        <input
          type="text"
          name="temp_max"
          id="temp_max"
          required
          placeholder="Ej. 30 °C"
          class="
            w-full
            p-2
            mb-4
            border-2
            border-gray-300
            rounded
            focus:outline-none
            focus:border-cyan-500
          "
        />

        <label for="temp_min" class="block font-semibold mb-1">
          Temperatura Mínima:
        </label>
        <input
          type="text"
          name="temp_min"
          id="temp_min"
          required
          placeholder="Ej. 15 °C"
          class="
            w-full
            p-2
            mb-4
            border-2
            border-gray-300
            rounded
            focus:outline-none
            focus:border-cyan-500
          "
        />

        <label for="wind" class="block font-semibold mb-1">
          Viento:
        </label>
        <input
          type="text"
          name="wind"
          id="wind"
          required
          placeholder="Ej. 15 km/h"
          class="
            w-full
            p-2
            mb-4
            border-2
            border-gray-300
            rounded
            focus:outline-none
            focus:border-cyan-500
          "
        />

        <label for="humidity" class="block font-semibold mb-1">
          Humedad:
        </label>
        <input
          type="text"
          name="humidity"
          id="humidity"
          required
          placeholder="Ej. 60%"
          class="
            w-full
            p-2
            mb-4
            border-2
            border-gray-300
            rounded
            focus:outline-none
            focus:border-cyan-500
          "
        />

        <label for="pressure" class="block font-semibold mb-1">
          Presión:
        </label>
        <input
          type="text"
          name="pressure"
          id="pressure"
          required
          placeholder="Ej. 1013 hPa"
          class="
            w-full
            p-2
            mb-4
            border-2
            border-gray-300
            rounded
            focus:outline-none
            focus:border-cyan-500
          "
        />

        <label for="solar_radiation" class="block font-semibold mb-1">
          Radiación Solar:
        </label>
        <input
          type="text"
          name="solar_radiation"
          id="solar_radiation"
          required
          placeholder="Ej. 700 W/m²"
          class="
            w-full
            p-2
            mb-4
            border-2
            border-gray-300
            rounded
            focus:outline-none
            focus:border-cyan-500
          "
        />

        <label for="visibility" class="block font-semibold mb-1">
          Visibilidad:
        </label>
        <input
          type="text"
          name="visibility"
          id="visibility"
          required
          placeholder="Ej. 10 km"
          class="
            w-full
            p-2
            mb-4
            border-2
            border-gray-300
            rounded
            focus:outline-none
            focus:border-cyan-500
          "
        />

        <button
          type="submit"
          class="
            w-full
            py-3
            mt-4
            bg-cyan-500
            text-white
            font-semibold
            rounded
            transition
            duration-300
            transform
            hover:bg-cyan-600
            active:scale-95
            tracking-wide
          "
        >
          Predecir
        </button>
      </form>
    </div>

    <div class="flex-1 flex flex-col gap-6">
      <div
        class="
          flex
          lg:flex-row
          gap-6
          justify-center
          lg:justify-start
          animate-fadeIn
        "
      >
        <div class="card bg-white bg-opacity-90 text-gray-800 rounded-lg shadow-lg p-6 max-w-xs">
          <div class="icon text-4xl mb-2 text-cyan-500">☂</div>
          <h3 class="text-xl font-semibold mb-2">¿Lloverá hoy?</h3>
          <p class="text-sm">Descubre las probabilidades de lluvia y no te olvides de llevar tu paraguas.</p>
        </div>
        <div class="card bg-white bg-opacity-90 text-gray-800 rounded-lg shadow-lg p-6 max-w-xs">
          <div class="icon text-4xl mb-2 text-yellow-500">☀</div>
          <h3 class="text-xl font-semibold mb-2">Días soleados</h3>
          <p class="text-sm">Conoce los días con mayor radiación solar y aprovecha el mejor clima.</p>
        </div>
        <div class="card bg-white bg-opacity-90 text-gray-800 rounded-lg shadow-lg p-6 max-w-xs">
          <div class="icon text-4xl mb-2 text-red-500">⚡</div>
          <h3 class="text-xl font-semibold mb-2">Advertencias</h3>
          <p class="text-sm">Mantenemos informados a nuestros usuarios de alertas meteorológicas.</p>
        </div>
      </div>

{% if prediction %}
<div class="relative bg-gray-900 bg-opacity-70 text-white rounded-lg shadow-lg overflow-hidden animate-fadeIn">
  <div
    class="absolute inset-0 bg-cover bg-center"
    style="background-image: url('{{ weather_info.image }}'); filter: blur(8px); -webkit-filter: blur(8px);"
  ></div>
  <div class="absolute inset-0 bg-gradient-to-b from-black/50 via-black/30 to-black/50"></div>
  <div class="relative z-10 p-6">
    <h2 class="text-2xl font-bold">Resultado de la predicción:</h2>
    {% if weather_info %}
    <div class="mt-4">
      <h3 class="text-3xl font-extrabold flex items-center justify-center">
        {{ weather_info.icon }} {{ weather_info.name }}
      </h3>
      <p class="text-lg mt-2">{{ weather_info.description }}</p>
      <div class="mt-6 flex justify-center">
        <img
          src="{{ weather_info.image }}"
          alt="{{ weather_info.name }}"
          class="rounded-lg shadow-lg w-64 h-64 object-cover border-4 border-white"
        />
      </div>
    </div>
    {% endif %}
  </div>
</div>
{% endif %}

    </div>
  </div>
</body>
</html>
